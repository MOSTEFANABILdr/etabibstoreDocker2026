{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load operator_tags %}

{% block title %} {{title}} {% endblock %}

{% block style %}

{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="m-b-md">
                <h2>{{offre.libelle}}</h2>
            </div>
            <dl class="dl-horizontal">
                <dt>{% trans 'Etat' %}:</dt>
                <dd>{{offre|renderStatus|safe}}</dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>{% trans 'PRIX' %}:</dt>
                <dd>{{offre.prix}}</dd>
            </dl>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-5">
            <dl class="dl-horizontal">
                <dt>{% trans 'Date de création' %}:</dt>
                <dd>
                    <i class="fa fa-clock-o"></i>
                    {{offre.date_creation|date:"d M, Y h:i"}}
                </dd>
                <dt>{% trans "Points" %}:</dt>
                <dd>{{offre.points}}
                    <small>{% trans 'points' %}</small>
                </dd>
                {% if offre.consommation_affichage %}
                <dt>{% trans "Consomation affichage" %}:</dt>
                <dd>{{offre.consommation_affichage}}
                    <small>{% trans 'point' %}</small>
                </dd>
                {% endif %}

                {% if offre.consommation_clic %}
                <dt>{% trans "Consomation clic" %}:</dt>
                <dd>{{offre.consommation_clic}}
                    <small>{% trans 'points' %}</small>
                </dd>
                {% endif %}

                {% if offre.licences_nbjours %}
                <dt>{% trans "Licence" %}:</dt>
                <dd>{{offre.licences_nbjours}}
                    <small>{% trans 'jours' %}</small>
                </dd>
                {% endif %}
                {% if offre.prix_unite %}
                <dt>{% trans "Prix unitaire d'un point" %}:</dt>
                <dd>{{offre.prix_unite}}</dd>
                {% endif %}
                {% if offre.prix_point %}
                <dt>{% trans "Prix du point" %}:</dt>
                <dd>{{offre.prix_point}}</dd>
                {% endif %}
                {% if offre.services %}
                <dt>{% trans "Services" %}:</dt>
                <dd>
                    <span>{{offre.get_services_display}}</span>
                </dd>
                {% endif %}
                {% if offre.avantages.all %}
                <dt>{% trans "Services de fidélité" %}:</dt>
                <dd>
                    {% if offre.avantages.all %}
                    {% for av in offre.avantages.all %}
                    <span class="badge badge-primary">{{av.libelle}}</span>
                    {% endfor %}
                    {% endif %}
                </dd>
                {% endif %}
            </dl>
        </div>
        <div class="col-lg-7">
            <dl class="dl-horizontal">
                <dt>{% trans 'Date de début' %}:</dt>
                <dd>
                    <span><i class="fa fa-clock-o"></i></span>
                    {{offre.date_debut|date:"d M, Y h:i"}}
                </dd>
                <dt>{% trans "Date d'expiration" %}:</dt>
                <dd>
                    <span><i class="fa fa-clock-o"></i></span>
                    {{offre.date_expiration|date:"d M, Y h:i"}}
                </dd>
                {% if offre.reduction_intervention %}
                <dt>{% trans "Réduction Interventions" %}:</dt>
                <dd>{{offre.reduction_intervention}} %</dd>
                {% endif %}

                {% if offre.reduction_achat_points %}
                <dt>{% trans "Réduction Achat Points" %}:</dt>
                <dd>{{offre.reduction_achat_points}} %</dd>
                {% endif %}

                {% if offre.reduction_modules %}
                <dt> {% trans "Réduction Modules"%}:</dt>
                <dd>{{offre.reduction_modules}} %</dd>
                {% endif %}
            </dl>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <dl class="dl-horizontal">
                {% if offre.expiration_pourcentage %}
                <dt>{% trans 'Expiré' %}:</dt>
                <dd>
                    <div class="progress">
                        <div class="progress-bar progress-bar-success progress-bar-striped"
                             role="progressbar" aria-valuenow="{{offre.expiration_pourcentage}}"
                             aria-valuemin="0" aria-valuemax="100" style="width:{{offre.expiration_pourcentage}}%">
                            {{offre.expiration_pourcentage}}%
                        </div>
                    </div>
                    <small>offre expirée dans <strong>{{offre.date_expiration|timeuntil}}</strong>.
                    </small>
                </dd>
                {% endif %}
            </dl>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <dl class="dl-horizontal">
                <dt>Description:</dt>
                <dd>
                    {{offre.description|linebreaks}}
                </dd>
            </dl>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}

{% endblock %}
